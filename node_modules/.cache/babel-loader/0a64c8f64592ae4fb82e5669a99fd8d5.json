{"ast":null,"code":"/* eslint-disable no-await-in-loop */\n\n/* eslint-disable class-methods-use-this */\nexport default class SwapiService {\n  constructor() {\n    this.apiBase = 'http://localhost:3000';\n\n    this.transformPlanet = planet => {\n      return {\n        id: planet.id,\n        lable: 'planets',\n        name: planet.name,\n        climate: planet.climate,\n        population: planet.population,\n        residents: planet.people,\n        films: planet.films\n      };\n    };\n\n    this.transformStarship = starship => {\n      return {\n        id: starship.id,\n        lable: 'starships',\n        name: starship.name,\n        model: starship.model,\n        length: starship.length,\n        pilot: starship.people,\n        films: starship.films\n      };\n    };\n\n    this.transformPerson = persons => {\n      persons.map(person => {\n        console.log(person);\n        return {\n          id: person.id,\n          lable: 'people',\n          name: person.name,\n          gender: person.gender,\n          homeworld: person.planets,\n          // object\n          films: person.films,\n          species: person.species,\n          vehicles: person.vehicles,\n          starships: person.starships\n        };\n      });\n    };\n\n    this.transformFilm = film => {\n      return {\n        id: film.id,\n        lable: 'films',\n        name: film.title,\n        director: film.director,\n        people: film.people,\n        species: film.species,\n        starships: film.starships,\n        vehicles: film.vehicles\n      };\n    };\n\n    this.transformSpecies = species => {\n      return {\n        id: species.id,\n        lable: 'species',\n        name: species.name,\n        classification: species.classification,\n        language: species.language,\n        films: species.films,\n        people: species.people\n      };\n    };\n\n    this.transformVehicles = vehicles => {\n      return {\n        id: vehicles.id,\n        lable: 'vehicles',\n        name: vehicles.name,\n        model: vehicles.model,\n        length: vehicles.length,\n        films: vehicles.films,\n        people: vehicles.people\n      };\n    };\n  }\n\n  async getResource(url) {\n    const res = await fetch(`${this.apiBase}${url}`);\n\n    if (!res.ok) {\n      throw new Error(`Could not fetch ${url} , received ${res.status}`);\n    }\n\n    const resJson = await res.json();\n    return resJson;\n  }\n\n  async getAllPeople(number, filter) {\n    let res = {};\n    if (filter) res = await this.getResource(`${filter}`);else res = await this.getResource(`/people/?page=${number}`);\n    return [res.rows.map(this.transformPerson), res.count];\n  }\n\n  async getPerson(id) {\n    const person = await this.getResource(`/people/${id}/`);\n    console.log(person);\n    return this.transformPerson(person);\n  }\n\n  async getAllPlanets(number, filter) {\n    let res = {};\n    if (filter) res = await this.getResource(`${filter}`);else res = await this.getResource(`/planets/?page=${number}`);\n    return [res.rows.map(this.transformPlanet), res.count];\n  }\n\n  async getPlanet(id) {\n    const planet = await this.getResource(`/planets/${id}/`);\n    return this.transformPlanet(planet);\n  }\n\n  async getAllStarships(number, filter) {\n    let res = {};\n    if (filter) res = await this.getResource(`${filter}`);else res = await this.getResource(`/starships/?page=${number}`);\n    return [res.rows.map(this.transformStarship), res.count];\n  }\n\n  async getStarship(id) {\n    const starship = await this.getResource(`/starships/${id}`);\n    return this.transformStarship(starship);\n  }\n\n  async getAllFilms(number, filter) {\n    let res = {};\n    if (filter) res = await this.getResource(`${filter}`);else res = await this.getResource(`/films/?page=${number}`);\n    return [res.rows.map(this.transformFilm), res.count];\n  }\n\n  async getFilm(id) {\n    const film = await this.getResource(`/films/${id}`);\n    return this.transformFilm(film);\n  }\n\n  async getAllSpecies(number, filter) {\n    let res = {};\n    if (filter) res = await this.getResource(`${filter}`);else res = await this.getResource(`/species/?page=${number}`);\n    return [res.rows.map(this.transformSpecies), res.count];\n  }\n\n  async getSpecies(id) {\n    const species = await this.getResource(`/species/${id}`);\n    return this.transformSpecies(species);\n  }\n\n  async getAllVehicles(number, filter) {\n    let res = {};\n    if (filter) res = await this.getResource(`${filter}`);else res = await this.getResource(`/vehicles/?page=${number}`);\n    return [res.rows.map(this.transformSpecies), res.count];\n  }\n\n  async getVehicles(id) {\n    const vehicles = await this.getResource(`/vehicles/${id}`);\n    return this.transformVehicles(vehicles);\n  }\n\n  async getElement(str) {\n    let number = 0;\n    let resPeople = {};\n    let resPlanets = {};\n    let resStarships = {};\n    let resVehicles = {};\n    let resSpecies = {};\n    let resFilms = {};\n\n    do {\n      number += 1;\n      resPeople = await this.getResource(`/people?page=${number}&search=${str}`);\n      resPlanets = await this.getResource(`/planets?page=${number}&search=${str}`);\n      resStarships = await this.getResource(`/starships?page=${number}&search=${str}`);\n      resVehicles = await this.getResource(`/vehicles?page=${number}&search=${str}`);\n      resSpecies = await this.getResource(`/species?page=${number}&search=${str}`);\n      resFilms = await this.getResource(`/films?page=${number}&search=${str}`);\n    } while (resPeople.next); // сделать while для некст пэйдж\n\n\n    return [[...resPeople.rows.map(this.transformPerson), // ...resPeopleNext.rows.map(this.transformPerson),\n    ...resPlanets.rows.map(this.transformPlanet), ...resStarships.rows.map(this.transformStarship), ...resVehicles.rows.map(this.transformVehicles), ...resSpecies.rows.map(this.transformSpecies), ...resFilms.rows.map(this.transformFilm)]];\n  }\n\n}","map":{"version":3,"sources":["/home/amitsevich/STAR-DB/star-db/src/services/swapi-service.js"],"names":["SwapiService","apiBase","transformPlanet","planet","id","lable","name","climate","population","residents","people","films","transformStarship","starship","model","length","pilot","transformPerson","persons","map","person","console","log","gender","homeworld","planets","species","vehicles","starships","transformFilm","film","title","director","transformSpecies","classification","language","transformVehicles","getResource","url","res","fetch","ok","Error","status","resJson","json","getAllPeople","number","filter","rows","count","getPerson","getAllPlanets","getPlanet","getAllStarships","getStarship","getAllFilms","getFilm","getAllSpecies","getSpecies","getAllVehicles","getVehicles","getElement","str","resPeople","resPlanets","resStarships","resVehicles","resSpecies","resFilms","next"],"mappings":"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","sourcesContent":["/* eslint-disable no-await-in-loop */\n/* eslint-disable class-methods-use-this */\nexport default class SwapiService {\n  apiBase = 'http://localhost:3000';\n\n  async getResource(url) {\n    const res = await fetch(`${this.apiBase}${url}`);\n    if (!res.ok) {\n      throw new Error(`Could not fetch ${url} , received ${res.status}`);\n    }\n    const resJson = await res.json();\n    return resJson;\n  }\n\n  async getAllPeople(number, filter) {\n    let res = {};\n    if (filter) res = await this.getResource(`${filter}`);\n    else res = await this.getResource(`/people/?page=${number}`);\n    return [res.rows.map(this.transformPerson), res.count];\n  }\n\n  async getPerson(id) {\n    const person = await this.getResource(`/people/${id}/`);\n    console.log(person);\n    return this.transformPerson(person);\n  }\n\n  async getAllPlanets(number, filter) {\n    let res = {};\n    if (filter) res = await this.getResource(`${filter}`);\n    else res = await this.getResource(`/planets/?page=${number}`);\n    return [res.rows.map(this.transformPlanet), res.count];\n  }\n\n  async getPlanet(id) {\n    const planet = await this.getResource(`/planets/${id}/`);\n    return this.transformPlanet(planet);\n  }\n\n  async getAllStarships(number, filter) {\n    let res = {};\n    if (filter) res = await this.getResource(`${filter}`);\n    else res = await this.getResource(`/starships/?page=${number}`);\n    return [res.rows.map(this.transformStarship), res.count];\n  }\n\n  async getStarship(id) {\n    const starship = await this.getResource(`/starships/${id}`);\n    return this.transformStarship(starship);\n  }\n\n  async getAllFilms(number, filter) {\n    let res = {};\n    if (filter) res = await this.getResource(`${filter}`);\n    else res = await this.getResource(`/films/?page=${number}`);\n    return [res.rows.map(this.transformFilm), res.count];\n  }\n\n  async getFilm(id) {\n    const film = await this.getResource(`/films/${id}`);\n    return this.transformFilm(film);\n  }\n\n  async getAllSpecies(number, filter) {\n    let res = {};\n    if (filter) res = await this.getResource(`${filter}`);\n    else res = await this.getResource(`/species/?page=${number}`);\n    return [res.rows.map(this.transformSpecies), res.count];\n  }\n\n  async getSpecies(id) {\n    const species = await this.getResource(`/species/${id}`);\n    return this.transformSpecies(species);\n  }\n\n  async getAllVehicles(number, filter) {\n    let res = {};\n    if (filter) res = await this.getResource(`${filter}`);\n    else res = await this.getResource(`/vehicles/?page=${number}`);\n    return [res.rows.map(this.transformSpecies), res.count];\n  }\n\n  async getVehicles(id) {\n    const vehicles = await this.getResource(`/vehicles/${id}`);\n    return this.transformVehicles(vehicles);\n  }\n\n  async getElement(str) {\n    let number = 0;\n    let resPeople = {};\n    let resPlanets = {};\n    let resStarships = {};\n    let resVehicles = {};\n    let resSpecies = {};\n    let resFilms = {};\n\n    do {\n      number += 1;\n      resPeople = await this.getResource(\n        `/people?page=${number}&search=${str}`,\n      );\n      resPlanets = await this.getResource(\n        `/planets?page=${number}&search=${str}`,\n      );\n      resStarships = await this.getResource(\n        `/starships?page=${number}&search=${str}`,\n      );\n      resVehicles = await this.getResource(\n        `/vehicles?page=${number}&search=${str}`,\n      );\n      resSpecies = await this.getResource(\n        `/species?page=${number}&search=${str}`,\n      );\n      resFilms = await this.getResource(`/films?page=${number}&search=${str}`);\n    } while (resPeople.next);\n    // сделать while для некст пэйдж\n\n    return [\n      [\n        ...resPeople.rows.map(this.transformPerson),\n        // ...resPeopleNext.rows.map(this.transformPerson),\n        ...resPlanets.rows.map(this.transformPlanet),\n        ...resStarships.rows.map(this.transformStarship),\n        ...resVehicles.rows.map(this.transformVehicles),\n        ...resSpecies.rows.map(this.transformSpecies),\n        ...resFilms.rows.map(this.transformFilm),\n      ],\n    ];\n  }\n\n  transformPlanet = (planet) => {\n    return {\n      id: planet.id,\n      lable: 'planets',\n      name: planet.name,\n      climate: planet.climate,\n      population: planet.population,\n      residents: planet.people,\n      films: planet.films,\n    };\n  };\n\n  transformStarship = (starship) => {\n    return {\n      id: starship.id,\n      lable: 'starships',\n      name: starship.name,\n      model: starship.model,\n      length: starship.length,\n      pilot: starship.people,\n      films: starship.films,\n    };\n  };\n\n  transformPerson = (persons) => {\n    persons.map((person) => {\n      console.log(person);\n      return {\n        id: person.id,\n        lable: 'people',\n        name: person.name,\n        gender: person.gender,\n        homeworld: person.planets, // object\n        films: person.films,\n        species: person.species,\n        vehicles: person.vehicles,\n        starships: person.starships,\n      };\n    });\n  };\n\n  transformFilm = (film) => {\n    return {\n      id: film.id,\n      lable: 'films',\n      name: film.title,\n      director: film.director,\n      people: film.people,\n      species: film.species,\n      starships: film.starships,\n      vehicles: film.vehicles,\n    };\n  };\n\n  transformSpecies = (species) => {\n    return {\n      id: species.id,\n      lable: 'species',\n      name: species.name,\n      classification: species.classification,\n      language: species.language,\n      films: species.films,\n      people: species.people,\n    };\n  };\n\n  transformVehicles = (vehicles) => {\n    return {\n      id: vehicles.id,\n      lable: 'vehicles',\n      name: vehicles.name,\n      model: vehicles.model,\n      length: vehicles.length,\n      films: vehicles.films,\n      people: vehicles.people,\n    };\n  };\n}\n"]},"metadata":{},"sourceType":"module"}