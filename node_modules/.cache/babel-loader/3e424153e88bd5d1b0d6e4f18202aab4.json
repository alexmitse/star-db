{"ast":null,"code":"/* eslint-disable no-await-in-loop */\n\n/* eslint-disable class-methods-use-this */\nexport default class SwapiService {\n  constructor() {\n    this.apiBase = 'https://server-star-db.herokuapp.com';\n\n    this.transformSearch = search => {\n      return {\n        lable: search.tablename,\n        id: search.id,\n        name: search.name\n      };\n    };\n\n    this.transformPlanet = planet => {\n      return {\n        id: planet.id,\n        lable: 'planets',\n        name: planet.name,\n        climate: planet.climate,\n        population: planet.population,\n        people: planet.people,\n        films: planet.films\n      };\n    };\n\n    this.transformStarship = starship => {\n      return {\n        id: starship.id,\n        lable: 'starships',\n        name: starship.name,\n        model: starship.model,\n        length: starship.length,\n        people: starship.people,\n        films: starship.films\n      };\n    };\n\n    this.transformPerson = person => {\n      return {\n        id: person.id,\n        lable: 'people',\n        name: person.name,\n        gender: person.gender,\n        homeworld: person.planet,\n        films: person.films,\n        species: person.species,\n        vehicles: person.vehicles,\n        starships: person.starships\n      };\n    };\n\n    this.transformFilm = film => {\n      return {\n        id: film.id,\n        lable: 'films',\n        name: film.title,\n        director: film.director,\n        people: film.people,\n        species: film.species,\n        starships: film.starships,\n        vehicles: film.vehicles,\n        planets: film.planets\n      };\n    };\n\n    this.transformSpecies = species => {\n      return {\n        id: species.id,\n        lable: 'species',\n        name: species.name,\n        classification: species.classification,\n        language: species.language,\n        films: species.films,\n        people: species.people\n      };\n    };\n\n    this.transformVehicles = vehicles => {\n      return {\n        id: vehicles.id,\n        lable: 'vehicles',\n        name: vehicles.name,\n        model: vehicles.model,\n        length: vehicles.length,\n        films: vehicles.films,\n        people: vehicles.people\n      };\n    };\n  }\n\n  async getResource(url) {\n    const res = await fetch(`${this.apiBase}${url}`);\n\n    if (!res.ok) {\n      throw new Error(`Could not fetch ${url} , received ${res.status}`);\n    }\n\n    const resJson = await res.json();\n    return resJson;\n  }\n\n  async getAllPeople(number, filter) {\n    let res = {};\n    if (filter) res = await this.getResource(`${filter}`);else res = await this.getResource(`/people/?page=${number}`);\n    return [res.rows.map(this.transformPerson), res.count];\n  }\n\n  async getPerson(id) {\n    const person = await this.getResource(`/people/${id}/`);\n    return this.transformPerson(person[0]);\n  }\n\n  async getAllPlanets(number, filter) {\n    let res = {};\n    if (filter) res = await this.getResource(`${filter}`);else res = await this.getResource(`/planets/?page=${number}`);\n    return [res.rows.map(this.transformPlanet), res.count];\n  }\n\n  async getPlanet(id) {\n    const planet = await this.getResource(`/planets/${id}/`);\n    return this.transformPlanet(planet[0]);\n  }\n\n  async getAllStarships(number, filter) {\n    let res = {};\n    if (filter) res = await this.getResource(`${filter}`);else res = await this.getResource(`/starships/?page=${number}`);\n    return [res.rows.map(this.transformStarship), res.count];\n  }\n\n  async getStarship(id) {\n    const starship = await this.getResource(`/starships/${id}`);\n    return this.transformStarship(starship[0]);\n  }\n\n  async getAllFilms(number, filter) {\n    let res = {};\n    if (filter) res = await this.getResource(`${filter}`);else res = await this.getResource(`/films/?page=${number}`);\n    return [res.rows.map(this.transformFilm), res.count];\n  }\n\n  async getFilm(id) {\n    const film = await this.getResource(`/films/${id}`);\n    return this.transformFilm(film[0]);\n  }\n\n  async getAllSpecies(number, filter) {\n    let res = {};\n    if (filter) res = await this.getResource(`${filter}`);else res = await this.getResource(`/species/?page=${number}`);\n    return [res.rows.map(this.transformSpecies), res.count];\n  }\n\n  async getSpecies(id) {\n    const species = await this.getResource(`/species/${id}`);\n    return this.transformSpecies(species[0]);\n  }\n\n  async getAllVehicles(number, filter) {\n    let res = {};\n    if (filter) res = await this.getResource(`${filter}`);else res = await this.getResource(`/vehicles/?page=${number}`);\n    return [res.rows.map(this.transformSpecies), res.count];\n  }\n\n  async getVehicles(id) {\n    const vehicles = await this.getResource(`/vehicles/${id}`);\n    return this.transformVehicles(vehicles[0]);\n  }\n\n  async getElement(str, page) {\n    const res = await this.getResource(`/search?page=${page}&search=${str}`);\n    let result = null;\n    let count = 0;\n    let peopleCount = 0;\n    let planetsCount = 0;\n    let filmsCount = 0;\n    let speciesCount = 0;\n    let vehiclesCount = 0;\n    let starshipsCount = 0;\n\n    if (str !== '') {\n      result = res.map(this.transformSearch);\n      res.forEach(item => {\n        switch (item.tablename) {\n          case 'people':\n            peopleCount = +item.count;\n            break;\n\n          case 'films':\n            filmsCount = +item.count;\n            break;\n\n          case 'planets':\n            planetsCount = +item.count;\n            break;\n\n          case 'species':\n            speciesCount = +item.count;\n            break;\n\n          case 'vehicles':\n            vehiclesCount = +item.count;\n            break;\n\n          case 'starships':\n            starshipsCount = +item.count;\n            break;\n\n          default:\n            break;\n        }\n      });\n    }\n\n    count = peopleCount + filmsCount + planetsCount + speciesCount + vehiclesCount + starshipsCount;\n    return [result, count];\n  }\n\n}","map":{"version":3,"sources":["/home/amitsevich/STAR-DB/star-db/src/services/swapi-service.js"],"names":["SwapiService","apiBase","transformSearch","search","lable","tablename","id","name","transformPlanet","planet","climate","population","people","films","transformStarship","starship","model","length","transformPerson","person","gender","homeworld","species","vehicles","starships","transformFilm","film","title","director","planets","transformSpecies","classification","language","transformVehicles","getResource","url","res","fetch","ok","Error","status","resJson","json","getAllPeople","number","filter","rows","map","count","getPerson","getAllPlanets","getPlanet","getAllStarships","getStarship","getAllFilms","getFilm","getAllSpecies","getSpecies","getAllVehicles","getVehicles","getElement","str","page","result","peopleCount","planetsCount","filmsCount","speciesCount","vehiclesCount","starshipsCount","forEach","item"],"mappings":"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","sourcesContent":["/* eslint-disable no-await-in-loop */\n/* eslint-disable class-methods-use-this */\nexport default class SwapiService {\n  apiBase = 'https://server-star-db.herokuapp.com';\n\n  async getResource(url) {\n    const res = await fetch(`${this.apiBase}${url}`);\n    if (!res.ok) {\n      throw new Error(`Could not fetch ${url} , received ${res.status}`);\n    }\n    const resJson = await res.json();\n    return resJson;\n  }\n\n  async getAllPeople(number, filter) {\n    let res = {};\n    if (filter) res = await this.getResource(`${filter}`);\n    else res = await this.getResource(`/people/?page=${number}`);\n    return [res.rows.map(this.transformPerson), res.count];\n  }\n\n  async getPerson(id) {\n    const person = await this.getResource(`/people/${id}/`);\n    return this.transformPerson(person[0]);\n  }\n\n  async getAllPlanets(number, filter) {\n    let res = {};\n    if (filter) res = await this.getResource(`${filter}`);\n    else res = await this.getResource(`/planets/?page=${number}`);\n    return [res.rows.map(this.transformPlanet), res.count];\n  }\n\n  async getPlanet(id) {\n    const planet = await this.getResource(`/planets/${id}/`);\n    return this.transformPlanet(planet[0]);\n  }\n\n  async getAllStarships(number, filter) {\n    let res = {};\n    if (filter) res = await this.getResource(`${filter}`);\n    else res = await this.getResource(`/starships/?page=${number}`);\n    return [res.rows.map(this.transformStarship), res.count];\n  }\n\n  async getStarship(id) {\n    const starship = await this.getResource(`/starships/${id}`);\n    return this.transformStarship(starship[0]);\n  }\n\n  async getAllFilms(number, filter) {\n    let res = {};\n    if (filter) res = await this.getResource(`${filter}`);\n    else res = await this.getResource(`/films/?page=${number}`);\n    return [res.rows.map(this.transformFilm), res.count];\n  }\n\n  async getFilm(id) {\n    const film = await this.getResource(`/films/${id}`);\n    return this.transformFilm(film[0]);\n  }\n\n  async getAllSpecies(number, filter) {\n    let res = {};\n    if (filter) res = await this.getResource(`${filter}`);\n    else res = await this.getResource(`/species/?page=${number}`);\n    return [res.rows.map(this.transformSpecies), res.count];\n  }\n\n  async getSpecies(id) {\n    const species = await this.getResource(`/species/${id}`);\n    return this.transformSpecies(species[0]);\n  }\n\n  async getAllVehicles(number, filter) {\n    let res = {};\n    if (filter) res = await this.getResource(`${filter}`);\n    else res = await this.getResource(`/vehicles/?page=${number}`);\n    return [res.rows.map(this.transformSpecies), res.count];\n  }\n\n  async getVehicles(id) {\n    const vehicles = await this.getResource(`/vehicles/${id}`);\n    return this.transformVehicles(vehicles[0]);\n  }\n\n  async getElement(str, page) {\n    const res = await this.getResource(`/search?page=${page}&search=${str}`);\n    let result = null;\n    let count = 0;\n    let peopleCount = 0;\n    let planetsCount = 0;\n    let filmsCount = 0;\n    let speciesCount = 0;\n    let vehiclesCount = 0;\n    let starshipsCount = 0;\n\n    if (str !== '') {\n      result = res.map(this.transformSearch);\n      res.forEach((item) => {\n        switch (item.tablename) {\n          case 'people':\n            peopleCount = +item.count;\n            break;\n          case 'films':\n            filmsCount = +item.count;\n            break;\n          case 'planets':\n            planetsCount = +item.count;\n            break;\n          case 'species':\n            speciesCount = +item.count;\n            break;\n          case 'vehicles':\n            vehiclesCount = +item.count;\n            break;\n          case 'starships':\n            starshipsCount = +item.count;\n            break;\n          default:\n            break;\n        }\n      });\n    }\n    count =\n      peopleCount +\n      filmsCount +\n      planetsCount +\n      speciesCount +\n      vehiclesCount +\n      starshipsCount;\n    return [result, count];\n  }\n\n  transformSearch = (search) => {\n    return {\n      lable: search.tablename,\n      id: search.id,\n      name: search.name,\n    };\n  };\n\n  transformPlanet = (planet) => {\n    return {\n      id: planet.id,\n      lable: 'planets',\n      name: planet.name,\n      climate: planet.climate,\n      population: planet.population,\n      people: planet.people,\n      films: planet.films,\n    };\n  };\n\n  transformStarship = (starship) => {\n    return {\n      id: starship.id,\n      lable: 'starships',\n      name: starship.name,\n      model: starship.model,\n      length: starship.length,\n      people: starship.people,\n      films: starship.films,\n    };\n  };\n\n  transformPerson = (person) => {\n    return {\n      id: person.id,\n      lable: 'people',\n      name: person.name,\n      gender: person.gender,\n      homeworld: person.planet,\n      films: person.films,\n      species: person.species,\n      vehicles: person.vehicles,\n      starships: person.starships,\n    };\n  };\n\n  transformFilm = (film) => {\n    return {\n      id: film.id,\n      lable: 'films',\n      name: film.title,\n      director: film.director,\n      people: film.people,\n      species: film.species,\n      starships: film.starships,\n      vehicles: film.vehicles,\n      planets: film.planets,\n    };\n  };\n\n  transformSpecies = (species) => {\n    return {\n      id: species.id,\n      lable: 'species',\n      name: species.name,\n      classification: species.classification,\n      language: species.language,\n      films: species.films,\n      people: species.people,\n    };\n  };\n\n  transformVehicles = (vehicles) => {\n    return {\n      id: vehicles.id,\n      lable: 'vehicles',\n      name: vehicles.name,\n      model: vehicles.model,\n      length: vehicles.length,\n      films: vehicles.films,\n      people: vehicles.people,\n    };\n  };\n}\n"]},"metadata":{},"sourceType":"module"}